<!DOCTYPE html>
<html>
	<head>
		<meta charset=utf-8>
		<title>My first Three.js app</title>
		<style>
			body { margin: 0; background-color: black }
			canvas { width: 100%; height: 100% }
		</style>


		<script id="vertexShader" type="x-shader/x-vertex">
			void main()	{
				gl_Position = vec4( position, 1.0 );
			}
		</script>

		<script id="fragmentShader" type="x-shader/x-fragment">
			uniform vec2 resolution;
			uniform float time;

			float PI  = 3.141592653589793;
			float TWO_PI = 6.283185307179586;

			float random (vec2 st) {
			    return fract(sin(dot(st.xy,
			                         vec2(12.9898,78.233)))*
			        43758.5453123);
			}

			float rand (float x)
			{
				return fract(sin(x)* 43758.5453123);
			}
			
			void main()	{
				
				float a = time * 0.0001;
				vec2 pos = 4.0 * gl_FragCoord.xy / resolution.x;
				pos.x -= 2.0;
				pos.y -= resolution.y * 2.0/resolution.x;
				
				vec2 ref = vec2(0.0,-1.0);

				float r = length(pos)*2.0;

    			float angle = atan(pos.y,pos.x)/TWO_PI;
    			angle += 0.5;

    			float i = floor(angle * 12.0)/12.0;
				float ni = mod(i + 1.0/12.0, 1.0);
				float f = fract(angle * 12.0);

				float ri = rand(i);
				float rni = rand(ni );
			
				float noise = mix(ri, rni, smoothstep(0.,1.,f));
				float lum = step(r, 0.5 + (0.5 + noise * 0.5));

				gl_FragColor=vec4(vec3(lum),1.0);
			}
		</script>

	</head>
	<body>
		<script src="three.min.js"></script>
		<script type="text/javascript" src="main.js"></script>
	</body>
</html>